CC=arm-none-eabi-gcc
CPPFLAGS=-mthumb -mcpu=cortex-m4 -mfloat-abi=hard -mfpu=fpv4-sp-d16 -D__NO_SYSTEM_INIT
vpath %.S samples/startup
all:main.o func.o startup_ARMCM4.o exit.o
salida.elf:*.o
	$(CC) $(CPPFLAGS) -Lsamples/ldscripts -Tgcc.ld  $^  -o $@
main.o:main.c
func.o:func.c
exit.o:exit.c
startup_ARMCM4.o:startup_ARMCM4.S
.PHONY:clean rebuild
clean:
	rm -f *.o
rebuild: clean all
